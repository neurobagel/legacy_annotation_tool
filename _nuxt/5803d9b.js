(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1016:function(t,e,n){var content=n(1076);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(143).default)("c48896c8",content,!0,{sourceMap:!1})},1074:function(t){t.exports=JSON.parse('{"title":"Neurobagel Data Dictionary Schema","$ref":"#/definitions/DataDictionary","definitions":{"Identifier":{"title":"Identifier","description":"An identifier of a controlled term with an IRI","type":"object","properties":{"TermURL":{"title":"Termurl","description":"An unambiguous identifier for the term, concept or entity that is referenced","type":"string"},"Label":{"title":"Label","description":"A human readable label. If more than one label exists for the term, then the preferred label should be used.","type":"string"}},"required":["TermURL","Label"]},"CategoricalNeurobagel":{"title":"CategoricalNeurobagel","description":"A Neurobagel annotation for a categorical column","type":"object","properties":{"IsAbout":{"title":"Isabout","description":"The concept or controlled term that describes this column","allOf":[{"$ref":"#/definitions/Identifier"}]},"MissingValues":{"title":"Missingvalues","description":"A list of unique values that represent invalid responses, typos, or missing data","default":[],"uniqueItems":true,"type":"array","items":{"type":"string"}},"Levels":{"title":"Levels","description":"For categorical variables: An object of values (keys) in the column and the semanticterm (URI and label) they are unambiguously mapped to.","type":"object","additionalProperties":{"$ref":"#/definitions/Identifier"}}},"required":["IsAbout","Levels"],"additionalProperties":false},"ContinuousNeurobagel":{"title":"ContinuousNeurobagel","description":"A Neurobagel annotation for a continuous column","type":"object","properties":{"IsAbout":{"title":"Isabout","description":"The concept or controlled term that describes this column","allOf":[{"$ref":"#/definitions/Identifier"}]},"MissingValues":{"title":"Missingvalues","description":"A list of unique values that represent invalid responses, typos, or missing data","default":[],"uniqueItems":true,"type":"array","items":{"type":"string"}},"Transformation":{"title":"Transformation","description":"For continuous columns this field can be used to describea transformation that can be applied to the values in thiscolumn in order to match the desired format of a standardizeddata element referenced in the IsAbout attribute.","allOf":[{"$ref":"#/definitions/Identifier"}]}},"required":["IsAbout","Transformation"],"additionalProperties":false},"IdentifierNeurobagel":{"title":"IdentifierNeurobagel","description":"A Neurobagel annotation for an identifier column","type":"object","properties":{"IsAbout":{"title":"Isabout","description":"The concept or controlled term that describes this column","allOf":[{"$ref":"#/definitions/Identifier"}]},"MissingValues":{"title":"Missingvalues","description":"A list of unique values that represent invalid responses, typos, or missing data","default":[],"uniqueItems":true,"type":"array","items":{"type":"string"}},"Identifies":{"title":"Identifies","description":"For identifier columns, the type of observation uniquely identified by this column.","type":"string"}},"required":["IsAbout","Identifies"],"additionalProperties":false},"ToolNeurobagel":{"title":"ToolNeurobagel","description":"A Neurobagel annotation for an assessment tool column","type":"object","properties":{"IsAbout":{"title":"Isabout","description":"The concept or controlled term that describes this column","allOf":[{"$ref":"#/definitions/Identifier"}]},"MissingValues":{"title":"Missingvalues","description":"A list of unique values that represent invalid responses, typos, or missing data","default":[],"uniqueItems":true,"type":"array","items":{"type":"string"}},"IsPartOf":{"title":"Ispartof","description":"If the column is a subscale or item of an assessment tool then the assessment tool should be specified here.","allOf":[{"$ref":"#/definitions/Identifier"}]}},"required":["IsAbout","IsPartOf"],"additionalProperties":false},"ContinuousColumn":{"title":"ContinuousColumn","description":"A BIDS column annotation for a continuous column","type":"object","properties":{"Description":{"title":"Description","description":"Free-form natural language description","type":"string"},"Annotations":{"title":"Annotations","description":"Semantic annotations","anyOf":[{"$ref":"#/definitions/CategoricalNeurobagel"},{"$ref":"#/definitions/ContinuousNeurobagel"},{"$ref":"#/definitions/IdentifierNeurobagel"},{"$ref":"#/definitions/ToolNeurobagel"}]},"Units":{"title":"Units","description":"Measurement units for the values in this column. SI units in CMIXF formatting are RECOMMENDED (see Units)","type":"string"}},"required":["Description"]},"CategoricalColumn":{"title":"CategoricalColumn","description":"A BIDS column annotation for a categorical column","type":"object","properties":{"Description":{"title":"Description","description":"Free-form natural language description","type":"string"},"Annotations":{"title":"Annotations","description":"Semantic annotations","anyOf":[{"$ref":"#/definitions/CategoricalNeurobagel"},{"$ref":"#/definitions/ContinuousNeurobagel"},{"$ref":"#/definitions/IdentifierNeurobagel"},{"$ref":"#/definitions/ToolNeurobagel"}]},"Levels":{"title":"Levels","description":"For categorical variables: An object of possible values (keys) and their descriptions (values). ","type":"object","additionalProperties":{"type":"string"}}},"required":["Description","Levels"]},"DataDictionary":{"title":"DataDictionary","description":"A data dictionary with human and machine readable information for a tabular data file","type":"object","additionalProperties":{"anyOf":[{"$ref":"#/definitions/ContinuousColumn"},{"$ref":"#/definitions/CategoricalColumn"}]}}}}')},1075:function(t,e,n){"use strict";n(1016)},1076:function(t,e,n){var o=n(142)((function(i){return i[1]}));o.push([t.i,"pre[data-v-31a2a24b]{max-height:400px;overflow-y:auto}",""]),o.locals={},t.exports=o},1083:function(t,e,n){"use strict";n.r(e);n(15),n(14),n(11),n(18),n(12),n(19);var o=n(65),r=n(3),l=(n(46),n(47),n(40),n(9),n(512),n(93),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(105),n(43),n(81)),c=n(1024),d=n(1025),f=n.n(d),h=n(1074);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"DownloadPage",data:function(){return{dictionaryCollapsed:!1,jsonSpacing:4,textArea:{height:800,width:5},uiText:{downloadButton:"Download Annotated Data",restartButton:"Annotate Another Dataset"},incompleteAnnotations:[],forceAllowDownload:!1}},computed:v(v(v({},Object(l.c)(["getJsonOutput"])),Object(l.e)(["dataDictionary"])),{},{dataDictionaryFilenameNoExtension:function(){return this.dataDictionary.filename.split(".").slice(0,-1).join(".")},defaultOutputFilename:function(){return"".concat(this.dataDictionaryFilenameNoExtension,"_annotated_").concat(Date.now(),".json")},outputIsValid:function(){var t=new f.a,e=t.validate(h,this.getJsonOutput);return e||this.setIncompleteAnnotations(t.errorsText()),e},outputIsInvalid:function(){return!this.outputIsValid},allowDownload:function(){return this.outputIsValid||this.forceAllowDownload}}),methods:v(v(v({},Object(l.d)(["resetState"])),Object(l.b)(["navigateToPage"])),{},{restartAnnotation:function(){this.resetState(),this.navigateToPage("home")},formatJson:function(t){return t?JSON.stringify(t,null,this.jsonSpacing):"{}"},fileSaverSaveAs:function(t){var e=new Blob([JSON.stringify(t,null,this.jsonSpacing)],{type:"text/plain;charset=utf-8"});Object(c.saveAs)(e,this.defaultOutputFilename)},setIncompleteAnnotations:function(t){this.incompleteAnnotations=Object(o.a)(new Set(t.split(",").map((function(t){return t.split("/")[1].split(" ")[0]}))))}})},I=(n(1075),n(114)),component=Object(I.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"6"}},[e("b-alert",{attrs:{variant:"danger"},model:{value:t.outputIsInvalid,callback:function(e){t.outputIsInvalid=e},expression:"outputIsInvalid"}},[e("h1",[t._v("Incomplete Annotations")]),t._v("\n                There are incomplete annotations for columns that were mapped to variables.\n                You can go back and complete these annotations before you download the .json data dictionary.\n                "),e("br"),e("br"),t._v("\n                The following columns have incomplete annotations:\n                "),t._l(t.incompleteAnnotations,(function(n){return e("ul",{key:n},[e("li",[t._v(t._s(n))])])})),t._v(" "),e("b",[t._v("NOTE")]),t._v(": If you download the .json data dictionary, without completing the annotations,\n                the data dictionary will not work with subsequent neurobagel steps.\n                "),e("br"),t._v(" "),e("b",[t._v("\n                    You will not be able to load the data dictionary into the annotation tool to change\n                    mistakes later.\n                ")]),t._v(" "),e("br"),e("br"),t._v(" "),e("b-button",{attrs:{"data-cy":"button-backtoannotation",variant:"success"},on:{click:function(e){return t.navigateToPage("annotation")}}},[t._v("\n                    Take me back to the Annotation!\n                ")])],2),t._v(" "),e("b-alert",{attrs:{variant:"success",show:t.dictionaryCollapsed},model:{value:t.outputIsValid,callback:function(e){t.outputIsValid=e},expression:"outputIsValid"}},[e("h1",[t._v("🎉 Congratulations!")]),t._v("\n                You have successfully created a "),e("a",{attrs:{href:"https://neurobagel.org/data_models/dictionaries/",target:"_blank"}},[t._v("neurobagel annotated .json data dictionary")]),t._v(".\n            ")]),t._v(" "),e("h3",[t._v("Data Dictionary")]),t._v(" "),e("p",[t._v("\n                Here is the final .json data dictionary that you have created:\n            ")]),t._v(" "),e("b-button",{attrs:{"data-cy":"dictionary-preview-button",size:"sm"},on:{click:function(e){t.dictionaryCollapsed=!t.dictionaryCollapsed}}},[t._v("\n                "+t._s(t.dictionaryCollapsed?"Hide":"Show")+" Data Dictionary\n            ")]),t._v(" "),e("b-collapse",{attrs:{"data-cy":"dictionary-preview"},model:{value:t.dictionaryCollapsed,callback:function(e){t.dictionaryCollapsed=e},expression:"dictionaryCollapsed"}},[e("pre",[t._v(t._s(t.formatJson(t.getJsonOutput)))])]),t._v(" "),e("p",[t._v("\n                Here are some next steps:\n            ")]),t._v(" "),e("ul",[e("li",[t._v('Download the .json data dictionary to your local hard drive by clicking the green "Download" button.')]),t._v(" "),e("li",[t._v("Use the .json data dictionary to "),e("a",{attrs:{href:"https://neurobagel.org/user_guide/cli/",target:"_blank"}},[t._v("create a harmonized view of your data")])]),t._v(" "),e("li",[t._v("Learn more about "),e("a",{attrs:{href:"https://neurobagel.org/",target:"_blank"}},[t._v("neurobagel")]),t._v(" and how to use harmonized data for cross-dataset search.")])])],1)],1),t._v(" "),e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"3"}},[t.outputIsInvalid?e("b-form-checkbox",{attrs:{"data-cy":"force-allow-download",name:"check-button",switch:""},model:{value:t.forceAllowDownload,callback:function(e){t.forceAllowDownload=e},expression:"forceAllowDownload"}},[t._v("\n                Let me download, I know what I'm doing!\n            ")]):t._e(),t._v(" "),e("b-button",{attrs:{"data-cy":"download-button",variant:t.outputIsInvalid?"danger":"success",disabled:!t.allowDownload},on:{click:function(e){return t.fileSaverSaveAs(t.getJsonOutput)}}},[t._v("\n                "+t._s(t.uiText.downloadButton)+"\n            ")])],1)],1),t._v(" "),e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"3"}},[e("b-button",{on:{click:t.restartAnnotation}},[t._v("\n                "+t._s(t.uiText.restartButton)+"\n            ")])],1)],1)],1)}),[],!1,null,"31a2a24b",null);e.default=component.exports}}]);